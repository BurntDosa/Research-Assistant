# API Key Configuration Guide

## Overview

The Research Discovery Hub requires API keys to function. This "Bring Your Own API Key" (BYOK) approach ensures:

- üîê **Security**: Your keys stay on your machine, never shared with third parties
- üí∞ **Cost Control**: You control your usage and billing directly with providers
- üéØ **Transparency**: You know exactly which services are being used
- ‚ö° **No Rate Limits**: No shared rate limits with other users

## Required API Keys

### 1. Google Gemini API Key ü§ñ

**Purpose**: Powers all AI features in the application:
- Literature review generation
- Research gap analysis
- Feasibility assessment
- Query augmentation and refinement
- LaTeX document generation
- Intelligent document parsing

**How to Get**:
1. Visit [Google AI Studio](https://makersuite.google.com/app/apikey)
2. Sign in with your Google account
3. Click "Create API Key"
4. Copy the key (starts with `AIza`)

**Cost**: 
- Free tier: 60 requests per minute
- Very generous limits for research use
- See [pricing](https://ai.google.dev/pricing)

**Format**: `AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX`

---

### 2. SerpAPI Key üîç

**Purpose**: Enables Google Scholar search for academic papers
- Search academic literature
- Get paper metadata (citations, publication info)
- Access Google Scholar's comprehensive database

**How to Get**:
1. Visit [SerpAPI](https://serpapi.com/manage-api-key)
2. Sign up for a free account
3. Get your API key from the dashboard

**Cost**:
- Free tier: 100 searches/month
- Paid plans start at $50/month for 5,000 searches
- See [pricing](https://serpapi.com/pricing)

**Format**: `your-serpapi-key-here`

---

## Optional API Keys

### 3. OpenAI API Key üß† (Optional)

**Purpose**: Alternative AI provider for future features
- Currently not used but reserved for future enhancements
- Can be left blank

**How to Get**:
1. Visit [OpenAI Platform](https://platform.openai.com/api-keys)
2. Sign up or log in
3. Create a new API key

**Format**: `sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX`

---

## Setup Instructions

### First Time Setup

1. **Launch the Application**:
   ```bash
   python main.py
   ```

2. **API Key Configuration Screen**:
   - You'll see the API key configuration screen first
   - Follow the links provided to get your keys
   - Paste them into the respective fields

3. **Save and Continue**:
   - Click "Save & Continue"
   - Your keys are saved to `.env` file locally
   - You're redirected to the main application

### Where Keys Are Stored

Your API keys are stored in a `.env` file in the project root directory:

```
Research-Assistant/
‚îú‚îÄ‚îÄ .env  ‚Üê Your API keys (NOT committed to git)
‚îú‚îÄ‚îÄ main.py
‚îî‚îÄ‚îÄ ...
```

The `.env` file format:
```bash
# Research Assistant API Configuration
# Generated by API Key Manager

# Required API Keys
GEMINI_API_KEY="AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
SERPAPI_KEY="your-serpapi-key-here"

# Optional API Keys
OPENAI_API_KEY="sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
```

### Security Best Practices

‚úÖ **DO**:
- Keep your `.env` file private
- Never commit `.env` to version control (already in `.gitignore`)
- Regenerate keys if you suspect they're compromised
- Use different keys for different projects

‚ùå **DON'T**:
- Share your API keys with others
- Commit `.env` to public repositories
- Use the same keys across multiple public projects
- Share screenshots that include your keys

---

## Updating API Keys

### Method 1: Through the Application (Recommended)

Currently, you'll need to restart the application to see the API key configuration screen again. Future updates will include a settings panel.

### Method 2: Edit .env File Directly

1. Open `.env` in a text editor
2. Update the key values
3. Restart the application

Example:
```bash
# Edit the .env file
nano .env

# Update the key
GEMINI_API_KEY="AIzaSyNEW_KEY_HERE"

# Save and restart the app
python main.py
```

---

## Troubleshooting

### "API keys not configured" Error

**Problem**: Application shows keys are not configured even after entering them.

**Solutions**:
1. Check that keys are saved in `.env` file
2. Verify key formats (Gemini starts with `AIza`, OpenAI with `sk-`)
3. Ensure no extra spaces or quotes in the values
4. Restart the application

### "Invalid API Key" Error

**Problem**: Application rejects your API key.

**Solutions**:
1. **Gemini**: Verify key starts with `AIza`
2. **SerpAPI**: Check key is copied correctly from dashboard
3. **OpenAI**: Verify key starts with `sk-`
4. Regenerate the key from the provider's dashboard

### Rate Limit Errors

**Problem**: "Rate limit exceeded" or "Quota exceeded" errors.

**Solutions**:
1. **Gemini**: Wait for the rate limit to reset (1 minute)
2. **SerpAPI**: Check your monthly quota usage
3. Consider upgrading to a paid plan if needed
4. Reduce the frequency of operations

### Keys Not Loading

**Problem**: Keys saved but not recognized.

**Solutions**:
1. Check `.env` file exists in project root
2. Verify file format (KEY="value")
3. Restart the application completely
4. Check file permissions (should be readable)

---

## Cost Estimation

### Typical Monthly Usage for Academic Research

**Conservative Use** (5-10 papers/week):
- Gemini: FREE (within free tier)
- SerpAPI: FREE (within 100 searches)
- **Total: $0/month**

**Moderate Use** (20-30 papers/week):
- Gemini: FREE (within free tier)
- SerpAPI: $50/month (5,000 searches)
- **Total: ~$50/month**

**Heavy Use** (50+ papers/week, multiple projects):
- Gemini: FREE to $10/month
- SerpAPI: $100-200/month
- **Total: ~$100-210/month**

### Tips to Minimize Costs

1. **Use Free Tiers Wisely**:
   - Gemini free tier is very generous
   - SerpAPI's 100 free searches/month good for testing

2. **Batch Operations**:
   - Search for multiple papers at once
   - Generate literature reviews after collecting papers

3. **Cache Results**:
   - The app stores papers in FAISS database
   - Re-use saved papers instead of re-searching

4. **Monitor Usage**:
   - Check SerpAPI dashboard regularly
   - Track Gemini usage in Google Cloud Console

---

## API Provider Links

### Get API Keys
- ü§ñ [Google Gemini API](https://makersuite.google.com/app/apikey)
- üîç [SerpAPI](https://serpapi.com/manage-api-key)
- üß† [OpenAI](https://platform.openai.com/api-keys)

### Documentation
- [Gemini API Docs](https://ai.google.dev/docs)
- [SerpAPI Docs](https://serpapi.com/docs)
- [OpenAI API Docs](https://platform.openai.com/docs)

### Pricing Information
- [Gemini Pricing](https://ai.google.dev/pricing)
- [SerpAPI Pricing](https://serpapi.com/pricing)
- [OpenAI Pricing](https://openai.com/pricing)

---

## Privacy & Data Security

### What We Store
- ‚úÖ API keys in local `.env` file
- ‚úÖ Paper metadata in local FAISS database
- ‚úÖ Generated literature reviews

### What We DON'T Store
- ‚ùå Your search queries (not logged externally)
- ‚ùå API keys in any cloud service
- ‚ùå Personal information
- ‚ùå Usage analytics

### Data Flow
1. **Your Computer** ‚Üí API providers (Google, SerpAPI)
2. **API Responses** ‚Üí Local storage (FAISS database)
3. **No data** sent to any third-party analytics

---

## FAQ

### Q: Can I use this without API keys?
**A**: No, API keys are required for the core functionality (AI and paper search).

### Q: Can I share my configured app with my team?
**A**: Each user should configure their own API keys. Don't share your `.env` file.

### Q: What happens if I exceed my API limits?
**A**: Operations will fail with rate limit errors. Wait for limits to reset or upgrade your plan.

### Q: Are my API keys encrypted?
**A**: Keys are stored in plain text in `.env` but only accessible on your local machine. Keep your computer secure.

### Q: Can I use different keys for different projects?
**A**: Yes! Each installation can have its own `.env` file with different keys.

### Q: Do I need a credit card to get started?
**A**: 
- **Gemini**: No, free tier available
- **SerpAPI**: Yes, for free tier registration
- **OpenAI**: Yes, but optional for this app

### Q: Can I switch API providers later?
**A**: Yes, just update your `.env` file and restart the application.

---

## Support

If you encounter issues with API key configuration:

1. Check this guide's troubleshooting section
2. Verify keys with the provider's dashboard
3. Check application logs for specific errors
4. Review provider documentation for service status

---

## Future Enhancements

Planned features for API key management:

- üîß In-app settings panel to update keys without restart
- üìä Usage tracking dashboard
- üîÑ Key rotation reminders
- üß™ API key validation before saving
- üíæ Multiple profile support
- üîê Optional key encryption

---

*Last Updated: October 2025*
